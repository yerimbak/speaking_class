<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script src="../../js/jquery-1.12.4.js"></script>
    <script src="../../js/jquery-ui.js"></script>
    <link rel="stylesheet" href="../../css/reset.css">
    <link rel="stylesheet" href="../../css/studio.css">
    <link rel="stylesheet" href="Class.css">
    <link rel="stylesheet" href="../../css/simplebar.css">
</head>
<style>
    .tab-add {width:100px;height:100px;margin:50px;background:#333;color:#fff;}
    .tab-add:hover {opacity:0.7;}
</style>
<body class="scroll-hidden"> <!-- 팝업 나왔을때 scroll-hidden 추가-->
    <div id="root">
        <div class="container">
            <div id="header" class="tab-select"> <!-- 탭이 선택되면 tab-select 추가 (밑줄 사라짐)-->
                <div class="header-inner">
                    <div class="logo-wrap">
                        <h1><a href="#"><img src="../../img/logo_studio.png" alt=""></a></h1>
                    </div>
                    <div class="header-tab-wrap">
                        <div class="inner">
                            <div class="tab on thema-purple"> <!-- thema-green, pink, orange, purple 로 색변경 / 활성화된건 on -->
                                <div class="tab-inner">
                                    <p>생활회화 A반 생활회화 A반</p>
                                    <button class="btn-header-tab-close"></button>
                                </div>
                            </div>
                            <div class="tab thema-orange">
                                <div class="tab-inner">
                                    <p>생활회화 A반 생활회화 A반</p>
                                    <button class="btn-header-tab-close"></button>
                                </div>
                            </div>
                            <div class="tab thema-green">
                                <div class="tab-inner">
                                    <p>생활회화 A반 생활회화 A반</p>
                                    <button class="btn-header-tab-close"></button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="profile-wrap">
                        <div class="profile-info-wrap">
                            <div class="academy">현대영어사</div>
                            <div class="bar"></div>
                            <div class="user"><strong>김선생</strong> (선생님)</div> 
                        </div>
                        <div class="profile-menu-wrap">
                            <button class="btn-profile-menu"></button>                            
                        </div>
                    </div>
                </div>
            </div>
            <div id="contents" class="thema-purple"> <!-- thema-green, pink, orange, purple 로 색변경 -->
                <div class="contents-inner">

                    <button class="tab-add">tab add</button>

                </div>
            </div>
        </div>
    </div>
    <script src="../../js/simplebar.js"></script>
    <script src="../../js/common.js"></script>
    <script>

        // 탭 추가 모양 (임시)
        var tab = '<div class="tab thema-orange"><div class="tab-inner"><p>생활회화 A반 생활회화 A반</p><button class="btn-header-tab-close"></button></div></div>';

        // 탭 추가 (임시)
        $('.tab-add').on('click', function(){
            $('.header-tab-wrap .inner').append(tab);

            // 탭 추가 및 닫기 실행시 실행
            check_tab_width();
        })

        // 탭 닫기버튼
        $('.header-tab-wrap').on('click', '.btn-header-tab-close', function(){

            // 탭 추가 및 닫기 실행시 실행
            check_tab_width();

            var next_el = $(this).parents('.tab').next();
            var prev_el = $(this).parents('.tab').prev();

            if (prev_el.length && !next_el.length){
                prev_el.addClass('on');
            }else {
                next_el.addClass('on');
            }
            $(this).parents('.tab').remove();

        })

        // 클릭 탭 활성화
        $('.header-tab-wrap').on('click', '.tab', function(){
            $(this).addClass('on').siblings().removeClass('on');
        })

        // 탭안에 텍스트 길이 체크하여 x버튼 및 텍스트 영역 조정
        function check_tab_width() {
            var tab_txt_width = $('.tab').not('.on').find('p').width();

            if($('.tab').parent().hasClass('close-hide')){
                if(tab_txt_width < 106){
                    $('.tab').parent().addClass('close-hide')
                }else {
                    $('.tab').parent().removeClass('close-hide')
                }
            }else {
                if(tab_txt_width < 60){
                    $('.tab').parent().addClass('close-hide')
                }
            }
        }

    </script>
</body>
</html>