<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="../../css/reset.css">
    <link rel="stylesheet" href="../../css/studio.css">
    <link rel="stylesheet" href="Home.css">
    <link rel="stylesheet" href="../../css/simplebar.css">
    <script src="../../js/jquery-1.12.4.js"></script>
    <script src="../../js/jquery-ui.js"></script>
    <script src="../../js/datepicker-ko.js"></script>
</head>
<body class="scroll-hidden"> <!-- 팝업 나왔을때 scroll-hidden 추가-->
    <div id="root">
        <div class="container">
            <div id="header">
                <div class="header-inner">
                    <div class="logo-wrap">
                        <h1><a href="#"><img src="../../img/logo_studio.png" alt=""></a></h1>
                    </div>
                    <div class="header-tab-wrap">
                        <div class="inner"></div>
                    </div>
                    <div class="profile-wrap">
                        <div class="profile-info-wrap">
                            <div class="academy">현대영어사</div>
                            <div class="bar"></div>
                            <div class="user"><strong>김선생</strong> (선생님)</div> 
                        </div>
                        <div class="profile-menu-wrap">
                            <button class="btn-profile-menu"></button>                            
                        </div>
                    </div>
                </div>
            </div>
            <div id="contents">
                <div class="contents-inner">

                    <!-- 팝업 -->
                    <div class="modal-wrap">
                        <div class="modal-contents-excelUpload">
                            <div class="modal-title-wrap">
                                <strong>학생 가입 엑셀 업로드</strong>
                                <button class="btn-modal-title-close"></button>
                            </div>
                            <div class="modal-cont-wrap">
                                <div class="excelUpload-wrap"> 
                                    <div class="desc">엑셀을 이용하여 여러 학생을 한번에 등록 및 수정할 수 있습니다.</div>
                                    <div class="file-wrap type2"> <!-- 학생 가입용 엑셀업로드 팝업은 type2 추가-->
                                        <div class="left-wrap">       
                                            <div class="subtitle">
                                                <strong>Step1.</strong> 아래 템플릿 엑셀을 다운로드 받아 수강생 정보를 입력하세요.
                                            </div> 
                                            <div class="btn-wrap">
                                                <div class="btnType1 on">
                                                    <button class="btn-file-download">템플릿 다운로드</button>
                                                    <button class="btn-file-download">샘플 다운로드</button>
                                                </div>
                                            </div>  
                                        </div>
                                        <div class="bar"></div>
                                        <div class="right-wrap">
                                            <div class="subtitle">
                                                <strong>Step2.</strong> 작성한 엑셀을 업로드하세요.
                                            </div>
                                            <form id="excelUploadForm">
                                                <div class="input-group-wrap">
                                                    <div class="half-box-wrap">
                                                        <div class="input-wrap">
                                                            <input class="excelFileName" type="text" placeholder="엑셀 파일을 업로드 해 주세요." readonly="" value="test.xlsx">
                                                            <input id="excelFile" type="file" name="excelFile">
                                                        </div>
                                                        <label for="excelFile" class="btn-line-dNavy">파일 찾기</label>
                                                    </div>
                                                </div>
                                                <div class="btn-wrap">
                                                    <button type="button" class="btn-file-upload">업로드 시작</button> <!-- disable 제거시 활성화 -->
                                                </div>  
                                            </form>
                                        </div>
                                    </div>

                                    <div class="upload-progress-wrap">     
                                        <div class="subtitle">
                                            <strong>Step3.</strong> 파일 검토가 끝나면 수강생 계정을 저장하세요. 오류가 있는 시트는 제외하고 저장됩니다.
                                            <div class="pwd-desc">수강생의 초기 비밀번호는 1234로 일괄 제공됩니다.</div>
                                        </div>  
                                        <div class="progressList-wrap">
                                            <div class="scroll-wrap" data-simplebar data-simplebar-auto-hide="false">
                                                <ul>
                                                    <li class="success"> <!-- 완료 success -->
                                                        <div class="progress-title">StudentA <div class="bar"></div> 김학생</div>
                                                        <div class="progress-wrap">
                                                            <div class="progress-bar-wrap">
                                                                <div class="progress-bar" style="width:100%"></div> <!-- inline 스타일로 width 조절 0% ~ 100% -->
                                                                <div class="progress-status"><strong>Success</strong></div>
                                                            </div>
                                                            <div class="progress-percent"><strong>100</strong>%</div>
                                                        </div>
                                                    </li>
                                                    <li class="uploading"> <!-- 업로드중 uploading -->
                                                        <div class="progress-title">studentB@gmail.com <div class="bar"></div> 김학생</div>
                                                        <div class="progress-wrap">
                                                            <div class="progress-bar-wrap">
                                                                <div class="progress-bar" style="width:56%"></div>
                                                                <div class="progress-status"><strong>Uploading</strong></div>
                                                            </div>
                                                            <div class="progress-percent"><strong>56</strong>%</div>
                                                        </div>
                                                    </li>
                                                    <li class="fail"> <!-- 실패 fail -->
                                                        <div class="progress-title">StudentA <div class="bar"></div> 김학생</div>
                                                        <div class="progress-wrap">
                                                            <div class="progress-bar-wrap">
                                                                <div class="progress-bar" style="width:20%"></div>
                                                                <div class="progress-status">
                                                                    <strong>Fail</strong>
                                                                    <div class="fail-wrap"> <!-- fail 상태일때 추가 / 아래 토스트 보이는건 show-toast 추가 -->
                                                                        <i></i>
                                                                        <div class="fail-text">중복된 아이디 입니다.</div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="progress-percent"><strong>20</strong>%</div>
                                                        </div>
                                                    </li>
                                                    <li class="success">
                                                        <div class="progress-title">StudentA <div class="bar"></div> 김학생</div>
                                                        <div class="progress-wrap">
                                                            <div class="progress-bar-wrap">
                                                                <div class="progress-bar" style="width:100%"></div>
                                                                <div class="progress-status"><strong>Success</strong></div>
                                                            </div>
                                                            <div class="progress-percent"><strong>100</strong>%</div>
                                                        </div>
                                                    </li>
                                                    <li class="success">
                                                        <div class="progress-title">StudentA <div class="bar"></div> 김학생</div>
                                                        <div class="progress-wrap">
                                                            <div class="progress-bar-wrap">
                                                                <div class="progress-bar" style="width:100%"></div>
                                                                <div class="progress-status"><strong>Success</strong></div>
                                                            </div>
                                                            <div class="progress-percent"><strong>100</strong>%</div>
                                                        </div>
                                                    </li>
                                                    <li class="fail">
                                                        <div class="progress-title">StudentA <div class="bar"></div> 김학생</div>
                                                        <div class="progress-wrap">
                                                            <div class="progress-bar-wrap">
                                                                <div class="progress-bar" style="width:43%"></div>
                                                                <div class="progress-status">
                                                                    <strong>Fail</strong>
                                                                    <div class="fail-wrap"> <!-- fail 상태일때 추가 / 아래 토스트 보이는건 show-toast 추가 -->
                                                                        <i></i>
                                                                        <div class="fail-text">중복된 아이디 입니다.</div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="progress-percent"><strong>43</strong>%</div>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="select-class-wrap"> 
                                        <div class="subtitle">
                                            <strong>Step4.</strong>  수강생이 학습할 클래스를 지정하세요. 저장 이후 클래스 페이지에서도 가능합니다.
                                        </div>  
                                        <div class="selectBox-wrap">
                                            <select>
                                                <option value="">생활회화 A반</option>
                                                <option value="">생활회화 B반</option>
                                                <option value="">생활회화 C반</option>
                                            </select>
                                        </div>
                                    </div>

                                </div>
                            </div>
                            <div class="modal-footer-wrap">
                                <div class="modal-footer-btn-wrap">
                                    <button class="btn-line">취소</button>
                                    <button class="btn-navy">저장</button>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <script src="../../js/simplebar.js"></script>
    <script src="../../js/common.js"></script>
    <script>
        // 파일찾기
        $('#excelUploadForm input[type=file]').on('change', function(){
            var fileName = $(this)[0].files[0].name;
            $(this).prev().val(fileName)
        })

        // Fail 경고문 토글
        $('.upload-progress-wrap .progressList-wrap .progress-status .fail-wrap i').on('click', function(){
            $(this).parents('li').siblings().find('.fail-wrap').removeClass('show-toast');
            $(this).parent().toggleClass('show-toast');
        })

        // Fail 경고문 다른곳 클릭해도 닫히게
        $(document).click (function (e) {
            var fail_tooltip_wrap = $('.upload-progress-wrap .progressList-wrap .progress-status .fail-wrap');
            if(!fail_tooltip_wrap.has(e.target).length){
                fail_tooltip_wrap.removeClass('show-toast')
            }
        });
    </script>
</body>
</html>